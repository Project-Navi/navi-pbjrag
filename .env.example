# =============================================================================
# PBJRAG Configuration
# =============================================================================
# Copy this file to .env and update values as needed
# This file documents all environment variables used by navi-pbjrag

# =============================================================================
# VECTOR STORE - Qdrant Configuration
# =============================================================================
# Qdrant is the primary vector database for semantic code search
# Default: localhost:6333 (docker-compose starts Qdrant automatically)

QDRANT_HOST=localhost
QDRANT_PORT=6333
QDRANT_GRPC_PORT=6334
QDRANT_COLLECTION_NAME=crown_jewel_dsc

# Qdrant API key (optional, for cloud deployments)
# QDRANT_API_KEY=your_api_key_here

# =============================================================================
# VECTOR STORE - ChromaDB Configuration (Alternative)
# =============================================================================
# ChromaDB can be used as an alternative to Qdrant
# Uncomment and configure if you prefer ChromaDB

# CHROMA_PATH=/app/chroma_db
# CHROMA_COLLECTION_NAME=crown_jewel_dsc

# =============================================================================
# GRAPH STORE - Neo4j Configuration (Optional)
# =============================================================================
# Neo4j stores code relationships, patterns, and DSC field states as a knowledge graph
# Required only if using Neo4j integration

# NEO4J_URI=bolt://localhost:7687
# NEO4J_USER=neo4j
# NEO4J_PASSWORD=your_neo4j_password
# NEO4J_DATABASE=neo4j

# =============================================================================
# EMBEDDING SERVICE Configuration
# =============================================================================
# Embedding service for generating code embeddings
# Supports: Infinity, Ollama, LMStudio (OpenAI-compatible), OpenAI

# Embedding model (default: jinaai/jina-embeddings-v2-base-code)
EMBEDDING_MODEL=jinaai/jina-embeddings-v2-base-code
# Alternative models:
# - BAAI/bge-m3 (1024 dimensions)
# - all-mpnet-base-v2 (768 dimensions)
# - text-embedding-ada-002 (OpenAI)

# Embedding service URL (default: Infinity at port 7997)
EMBEDDING_SERVICE_URL=http://127.0.0.1:7997

# For Ollama backend (port 11434)
# EMBEDDING_SERVICE_URL=http://localhost:11434

# For LMStudio (port 1234, OpenAI-compatible)
# EMBEDDING_SERVICE_URL=http://localhost:1234

# OpenAI API (if using OpenAI embeddings)
# OPENAI_API_KEY=your_openai_api_key

# Embedding dimensions (auto-detected based on model)
# EMBEDDING_DIM=768

# Device for embedding generation (cuda or cpu)
EMBEDDING_DEVICE=cuda

# =============================================================================
# WEB UI Configuration
# =============================================================================
# Streamlit WebUI settings (used by docker-compose)

STREAMLIT_SERVER_PORT=8501
STREAMLIT_SERVER_ADDRESS=0.0.0.0
STREAMLIT_SERVER_HEADLESS=true
STREAMLIT_BROWSER_GATHER_USAGE_STATS=false

# =============================================================================
# ANALYSIS Configuration
# =============================================================================
# DSC (Differential Symbolic Calculus) analysis parameters

# Batch size for chunk processing
BATCH_SIZE=32

# Minimum blessing score threshold (0.0 - 1.0)
MIN_BLESSING_SCORE=0.33

# Enable/disable specific storage backends
ENABLE_QDRANT=true
ENABLE_CHROMA=false
ENABLE_NEO4J=false

# =============================================================================
# LOGGING Configuration
# =============================================================================
# Logging level: DEBUG, INFO, WARNING, ERROR, CRITICAL

LOG_LEVEL=INFO
LOG_FORMAT=%(asctime)s - %(name)s - %(levelname)s - %(message)s

# =============================================================================
# ADVANCED Configuration
# =============================================================================
# These settings are for advanced users and special deployments

# Python path (for docker environments)
PYTHONPATH=/app

# Disable telemetry for privacy
CHROMA_ANONYMIZED_TELEMETRY=false

# Custom upload directory for WebUI
# UPLOAD_DIR=/app/uploads

# Maximum file size for upload (in MB)
# MAX_UPLOAD_SIZE_MB=100

# =============================================================================
# DEVELOPMENT Configuration
# =============================================================================
# Development-specific settings (not used in production)

# Enable debug mode
# DEBUG=false

# Enable experimental features
# EXPERIMENTAL_FEATURES=false

# Cache directory for embeddings
# CACHE_DIR=/tmp/pbjrag_cache
